!function(){"use strict";function t(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?(?:\s+order\s+by\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+create\s+from\s+([\s\S]+?))?$/,r=function(t,e){return e&&t?(t+=".",e.substr(0,t.length)===t?e.substr(t.length):e):e},s=function(t){return-1!==t.indexOf(".")},n=function(t){if(!t)return t;var e=t.lastIndexOf(".");return-1!==e?t.substring(e+1):t};return{restrict:"A",priority:1,controller:["$scope","$attrs",function(i,o){if(!o.selectOptions)throw"No options has been specified";var u=o.selectOptions.match(e);if(!u)throw'Expected expression in form of "_select_ (as _label_)? for (_key_,)?_value_ in _collection_ track by (_key_) order by (_key_) group by (_key_)", but given '+o.selectOptions;this.findItemInModel=function(t,e){var r=this.getTrackBy(),s=this.parseTrackBy(t);if(!r||!s)return this.parseItemValue(t);var n=null;return angular.forEach(e,function(t){t[r]===s&&(n=t)}),n},this.createItem=function(e){var r,s=this.getItemNameWithoutPrefixes();return s?(r=this.createFrom()?t(this.createFrom())(i):{},r[s]=e):r=e,this.parseItemValue(r)},this.getItemNameWithoutPrefixes=function(){var t=this.getItemName();return s(t)?n(t):null},this.getItemName=function(){return u[2]||u[1]},this.getItemValue=function(){return u[2]?u[1]:this.getItem()},this.getItem=function(){return u[3]||u[5]},this.getItems=function(){return u[6]},this.getKey=function(){return u[4]},this.getOrderBy=function(){var t=u[8];return r(this.getItem(),t)},this.getTrackBy=function(){var t=u[7];return n(t)},this.getGroupBy=function(){return u[9]},this.createFrom=function(){return u[10]},this.getGroupByWithoutPrefixes=function(){return r(this.getItem(),this.getGroupBy())},this.parseItemName=function(e){var r={};r[this.getItem()]=e;var s=t(this.getItemName())(i,r);return String(s).replace(/<[^>]+>/gm,"")},this.parseItemGroup=function(e){var r={};r[this.getItem()]=e;var s=t(this.getGroupBy())(i,r);return s?String(s).replace(/<[^>]+>/gm,""):s},this.parseItemValueFromSelection=function(e){var r=this.getItemValue().replace(".","_"),s=this.getItemName().replace(this.getItemValue(),r),n={};n[r]=e;var o=t(s)(i,n);return o?String(o).replace(/<[^>]+>/gm,""):""},this.parseItemValue=function(e){var r={};return r[this.getItem()]=e,t(this.getItemValue())(i,r)},this.parseTrackBy=function(e){var r={};return r[this.getItem()]=e,t(u[7])(i,r)},this.parseItems=function(){return t(this.getItems())(i)},this.applyOnScope=function(t){return i.$apply(t)},this.log=function(){console.log("item name: "+this.getItemName()),console.log("item value: "+this.getItemValue()),console.log("key: "+this.getKey()),console.log("item: "+this.getItem()),console.log("items: "+this.getItems()),console.log("orderBy: "+this.getOrderBy()),console.log("trackBy (full): "+u[7]),console.log("trackBy: "+this.getTrackBy())}}]}}angular.module("selectOptions",[]),angular.module("selectOptions").directive("selectOptions",t),t.$inject=["$parse"]}();