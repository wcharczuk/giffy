language: go
go:
  - 1.9

sudo: false

notifications:
  slack:
    rooms:
      - secure: "dpGqXrznbbZYIcXhLxU6gaj/w7md7tPstdFkqpq2wlOab4swgL6nh5EzOLEhp1uVKx7q3vb2cRBYb/Z0GxmBxiY8hq/RX+ZSQ1bCsoTLtIyct3FLjt91HhfA4VxuVcBYjs1tOK4y5LBp4bDjsbn17krk/sUwCOripO/BozteCh7wgyuHeRWiXP9jir/5mIFiZz2n//dhNWd0Z9GxCTtHQbCa4GV+y5mS9mVJwbMP8MW9amsW862hpB8tkUmCWQSdIbCHLeMZUp2fq2kenDqE7TwI0Ptvf7bdB76c5BdlwikWYBr+hUjYCtCa05cyyvMxh4kEid8i+9jrfQXDvdRyhz+cbkbchNtNQznyG5T7ZZIr7pi3db0UVSJAtm9dFgRbNrPScz+59pV8/OpYtlzlTo4XKcnPJFtziFIW/wnw8z1Lvkwu5LxrZ/ra+t2n5LozRUt2HFkzc50eQCkDje0bcHVKMChAj6FOmTGvzY2szA0W+q8QFW+8zytDR9wHs3MJEOEoyU8/W9aqbrqvnS6lXBujTYzaLMkU6+MgI5QX7sMmSX9O4pAM9ms/WGBdoeJPuee2rXvOPYgdwNkBPPBbIcPghxFi6lAqjjeL2xIu7sKbHg8w3hTCOc30AhrBrK59Mfumjv/5AyPSWCdzWqN3ONhPMgQQIy9RGd86+B0WbGY="
    on_success: change
    on_failure: change
    template:
      - "%{repository_slug} %{message} %{duration}"
      - "%{author} : (<%{compare_url}|%{commit}>) %{commit_message}"
      - "Build Details: %{build_url}"

before_script:
  - go get -u github.com/blendlabs/go-assert
  - go get -u github.com/blendlabs/go-exception
  - go get -u github.com/blendlabs/go-workqueue

script:
  - go vet
  - go test
